# Cpp_Game_Doodle_Jump
Doodle Jump game in C++

Doodle Jump is a platforming video game developed and published by Lima Sky for many platforms. It was firstly released on iOS in 2009 and reached 15 million downloads across all platforms in 2011. In Doodle Jump, the aim is to guide the main character--a four-legged animal called "The Doodler" up a never-ending series of platforms without falling.

Ref: https://apps.apple.com/us/app/doodle-jump/id307727765

Methodolgy:
Basically the game is the jumping process of doodle, so mainly three parts are concerned.
First is the main role—doodler. It should keep jumping as long as there are ground under its feet. The velocity and the jump height can be varied according to different props and platforms.
Second is the ground--“platform”. Different platforms would make the jump of doodle different. In the original setting, green platforms are permanent while brown ones will break after one jump. And the background would never-endingly move up with the jump of doodler until it falls down, meanwhile new platforms will also be built randomly.
Third is the barriers and props. The doodler can get a short boost from various props, such as propeller hats, jetpacks, rockets, springs, trampolines. In the original edition, there are also barriers like monsters that the Doodler must avoid, shoot, or jump on to eliminate. 

Result:
The program has a welcome interface and inner game. In the welcome interface, you can start directly, or learning rules from the help widget, or select the mode you want (in default mode if not selected), or directly quit. Besides the default mode, there are three modes to choose—Space, Christmas and Jungle. When you enter the game, the score is shown at top left corner, and at top right, there are three buttons for you to restart, back to main menu and pause for a break. The basic rule is to use left and right direction key of keyboard to move doodler, and when you fall out of bottom line, you lose. And when you press left or right, the doodler will also change it face to the desired direction. And continuous pressing on keyboard would only be counted as one move.

Difficulties:
First is the graphical visualization, the way I used to realize it is the QGraphicsView(QGV) system. This system supports drawing of 2D graphics. Initially I have also tried using QWidget and OpenGL. The most significant reason that I chose QGV is its collision function, which perfectly solves my problem of doodler’s jump on the platform. The collision function works for items in the same scene, if they intersect, certain signals will be emit and colliding items will be recorded. However, this function also raises some problems which I will state later.

After choosing GUI, I first used QGV to build a simple map with fixed position and jumping doodler. GraphicsItems would have a shape for the judgement of the collision. The realizing of jump is based on the rewrite of doodler’s shape. It’s rectangular and the platforms are also rectangular. So I rewrite the 50*50 doodler’s shape function, setting it as a line with 1 pixel height and 25 pixel width located at its feet. When this line intersects with the platform rectangle, it will change the direction of motion. And then, in one scene, there might be other items but not only the platforms. The way to solve it is to setData(key, value) to platform, by key and special value, we can judge whether the colliding item is a platform or not.

The second is continuous generating of the map. This problem has troubled me a lot till now. It is concerned with a “timer” which I was not so familiar. The moving things in my game consists the doodler, the platforms and the score. The appropriate use of timers become a big problem. In my final version, doodler has a timer in its own field, and score is using a timer of the scene while platforms are moving based on the signal of view change emits by doodler. The interval of timer is then the next problem, here comes the problem of collision function. When the interval is too small, the collision function would have some problem since it needs time to check the collision, thus the result is not accurate. Finally, the interval is set to 25ms for doodler. And the platforms change position if the doodler reaches top part of the screen, view are move down by around 300 pixels. The generation rule of platforms has been optimized due to your advice. It’s now has a y-fixed first one as base and next ones are generated by adding(less) a value in certain range within one jump of doodler to ensure it can jump up. And the connection part with new ones and old ones are overlapped to avoid an empty interval.


